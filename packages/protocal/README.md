# protocal

这是协议库，主要定义IOT场景下的相关数据协议。
IOT场景下一般包括以下数据体

- 终端的属性定义与变更
- 下发动作的数据
- 下发通知
- 上报属性变更
- 上报状态变更
- 上报事件的数据
- 上报的告警事件
  ...

## 总结来说有以下数据类型(MessageType)

● 属性：指终端的固有的属性信息，名称、网络配置、通话配置等。不同终端具有不同的属性，但往往也具有相同的属性，如的名称。一般情况，属性随时间变化的程度较小。

● 状态：指终端属性之外的本级状态，可能会随时间变化，如联机、布撤防等状态。状态是对终端当前状况的反应，所以一般情况下状态不允许由外部修改，而应该由根据自身运行环境进行变化；但可以由外部执行动作而间接产生变化。

● 动作：指远程调用终端所具有的能力。如大部分可能会具有重启、升级等能力；播放器具有播放暂停的动作；电话机具有呼叫挂断的动作；动作往往会引起终端的状态的变化，如布防动作会导致的布防状态发生变化。

● 事件：指定发出的事件消息，一般是单向的。设备 服务器灯都可以触发事件

● 告警事件：但一般在实际应用中会对告警进行特别对待，所以单独拿出来作为告警。

● 通知：指设备发出的通知消息。？

### 哪些东西不是数据类型？

比如广播，其实是对群体的概念，只要你不指定 to 是谁，但一般会有个范围 ，要么 \* 要么根据地区等，其实就是广播了

比如单方面下发消息、数据给终端，或者对终端进行请求与应答，这种一般是动作来搞定

告警只是一种特殊的事件，理论上也不能放到基础数据类型当中去

## 事务

什么是事务，就是一个事情可能由多个事件与消息组成，消息通过tid进行事务联系

## 会话

会话就是一件事情，比如请求和应答，比如更新与更新进度提示,

### 事务和会话的区别
理论上会话和事务有点类似，都是一堆消息有共同一个主题。

## 使用

```javascript

```
